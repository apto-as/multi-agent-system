# TMWS Production Environment Configuration Template
# Hestia Security Implementation - Maximum Security Profile
# ⚠️  WARNING: Replace all placeholders with actual values
# ⚠️  NEVER commit this file with real credentials

# ================================
# CORE APPLICATION SETTINGS
# ================================
TMWS_ENVIRONMENT=production
TMWS_DEBUG=false
TMWS_SECRET_KEY=REPLACE_WITH_64_CHAR_RANDOM_STRING
TMWS_API_HOST=0.0.0.0
TMWS_API_PORT=8000
TMWS_DOMAIN=tmws.your-domain.com

# ================================
# DATABASE CONFIGURATION
# ================================
# Primary Database (PostgreSQL 15+ with pgvector)
TMWS_DATABASE_URL=postgresql://tmws_user:SECURE_DB_PASSWORD@db-primary.internal:5432/tmws_production?sslmode=require&sslcert=/etc/ssl/certs/client.crt&sslkey=/etc/ssl/private/client.key&sslrootcert=/etc/ssl/certs/ca.crt

# Read Replica (for read-heavy operations)
TMWS_DATABASE_REPLICA_URL=postgresql://tmws_reader:SECURE_READER_PASSWORD@db-replica.internal:5432/tmws_production?sslmode=require

# Connection Pool Settings (Paranoid Mode)
TMWS_DB_POOL_SIZE=10
TMWS_DB_MAX_OVERFLOW=5
TMWS_DB_POOL_TIMEOUT=30
TMWS_DB_POOL_RECYCLE=3600
TMWS_DB_POOL_PRE_PING=true

# Database Encryption
TMWS_DB_ENCRYPTION_KEY=REPLACE_WITH_32_BYTE_BASE64_ENCODED_KEY

# ================================
# REDIS CONFIGURATION
# ================================
TMWS_REDIS_URL=rediss://redis-user:SECURE_REDIS_PASSWORD@redis-cluster.internal:6380/0?ssl_cert_reqs=required&ssl_ca_certs=/etc/ssl/certs/redis-ca.crt

# Redis Sentinel for High Availability
TMWS_REDIS_SENTINEL_HOSTS=sentinel-1.internal:26379,sentinel-2.internal:26379,sentinel-3.internal:26379
TMWS_REDIS_SENTINEL_PASSWORD=SECURE_SENTINEL_PASSWORD
TMWS_REDIS_SENTINEL_SERVICE_NAME=tmws-redis-master

# ================================
# AUTHENTICATION & AUTHORIZATION
# ================================
TMWS_AUTH_ENABLED=true
TMWS_JWT_SECRET=REPLACE_WITH_256_BIT_JWT_SECRET
TMWS_JWT_ALGORITHM=RS256
TMWS_JWT_EXPIRE_MINUTES=15
TMWS_JWT_REFRESH_EXPIRE_DAYS=7

# JWT Keys (for RS256)
TMWS_JWT_PRIVATE_KEY_PATH=/etc/tmws/keys/jwt-private.pem
TMWS_JWT_PUBLIC_KEY_PATH=/etc/tmws/keys/jwt-public.pem

# Session Security
TMWS_SESSION_TIMEOUT=900
TMWS_SESSION_SECURE=true
TMWS_SESSION_HTTPONLY=true
TMWS_SESSION_SAMESITE=Strict

# ================================
# RATE LIMITING & SECURITY
# ================================
TMWS_RATE_LIMIT_ENABLED=true
TMWS_RATE_LIMIT_REQUESTS=60
TMWS_RATE_LIMIT_PERIOD=60
TMWS_RATE_LIMIT_BURST=10

# Advanced Rate Limiting
TMWS_RATE_LIMIT_API_REQUESTS=100
TMWS_RATE_LIMIT_API_PERIOD=60
TMWS_RATE_LIMIT_AUTH_REQUESTS=5
TMWS_RATE_LIMIT_AUTH_PERIOD=300

# DDoS Protection
TMWS_DDOS_PROTECTION_ENABLED=true
TMWS_MAX_CONCURRENT_CONNECTIONS=1000
TMWS_CONNECTION_TIMEOUT=30

# IP Filtering
TMWS_IP_WHITELIST=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
TMWS_IP_BLACKLIST_ENABLED=true

# ================================
# CORS & SECURITY HEADERS
# ================================
TMWS_CORS_ORIGINS=https://app.your-domain.com,https://admin.your-domain.com
TMWS_CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
TMWS_CORS_HEADERS=Content-Type,Authorization,X-Requested-With
TMWS_CORS_CREDENTIALS=true

# Security Headers (Maximum Paranoia)
TMWS_SECURITY_HEADERS_ENABLED=true
TMWS_HSTS_MAX_AGE=63072000
TMWS_CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self'; frame-ancestors 'none'

# ================================
# ENCRYPTION & SECRETS
# ================================
# Vault Integration
TMWS_VAULT_ENABLED=true
TMWS_VAULT_URL=https://vault.internal:8200
TMWS_VAULT_TOKEN=s.VAULT_TOKEN_HERE
TMWS_VAULT_MOUNT_POINT=tmws
TMWS_VAULT_ROLE_ID=VAULT_ROLE_ID
TMWS_VAULT_SECRET_ID=VAULT_SECRET_ID

# Application-level encryption
TMWS_ENCRYPTION_ENABLED=true
TMWS_ENCRYPTION_KEY=REPLACE_WITH_FERNET_KEY_BASE64
TMWS_ENCRYPTION_ALGORITHM=AES-256-GCM

# Data Anonymization
TMWS_ANONYMIZATION_ENABLED=true
TMWS_PII_DETECTION_ENABLED=true

# ================================
# LOGGING & MONITORING
# ================================
TMWS_LOG_LEVEL=WARNING
TMWS_LOG_FORMAT=json
TMWS_LOG_FILE=/var/log/tmws/app.log
TMWS_LOG_MAX_SIZE=100MB
TMWS_LOG_BACKUP_COUNT=10

# Audit Logging
TMWS_AUDIT_ENABLED=true
TMWS_AUDIT_LOG_FILE=/var/log/tmws/audit.log
TMWS_AUDIT_ALL_REQUESTS=true
TMWS_AUDIT_SENSITIVE_OPERATIONS=true

# Security Event Logging
TMWS_SECURITY_LOG_ENABLED=true
TMWS_SECURITY_LOG_FILE=/var/log/tmws/security.log
TMWS_FAILED_AUTH_THRESHOLD=5
TMWS_BRUTE_FORCE_DETECTION=true

# Metrics and Monitoring
TMWS_METRICS_ENABLED=true
TMWS_PROMETHEUS_PORT=9090
TMWS_HEALTHCHECK_ENDPOINT=/health

# External Monitoring Integration
TMWS_DATADOG_API_KEY=DATADOG_API_KEY_HERE
TMWS_NEWRELIC_LICENSE_KEY=NEWRELIC_LICENSE_KEY_HERE

# ================================
# BACKUP & DISASTER RECOVERY
# ================================
TMWS_BACKUP_ENABLED=true
TMWS_BACKUP_SCHEDULE=0 2 * * *
TMWS_BACKUP_RETENTION_DAYS=90
TMWS_BACKUP_ENCRYPTION_ENABLED=true
TMWS_BACKUP_ENCRYPTION_KEY=BACKUP_ENCRYPTION_KEY_BASE64

# AWS S3 for backups
TMWS_BACKUP_S3_BUCKET=tmws-backups-encrypted
TMWS_BACKUP_S3_REGION=us-east-1
TMWS_BACKUP_S3_ACCESS_KEY=AWS_ACCESS_KEY_ID
TMWS_BACKUP_S3_SECRET_KEY=AWS_SECRET_ACCESS_KEY
TMWS_BACKUP_S3_KMS_KEY=arn:aws:kms:us-east-1:account:key/key-id

# ================================
# SSL/TLS CONFIGURATION
# ================================
TMWS_SSL_ENABLED=true
TMWS_SSL_CERT_PATH=/etc/letsencrypt/live/tmws.your-domain.com/fullchain.pem
TMWS_SSL_KEY_PATH=/etc/letsencrypt/live/tmws.your-domain.com/privkey.pem
TMWS_SSL_PROTOCOLS=TLSv1.2,TLSv1.3
TMWS_SSL_CIPHERS=ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256

# ================================
# PERFORMANCE OPTIMIZATION
# ================================
TMWS_CACHE_ENABLED=true
TMWS_CACHE_TTL=300
TMWS_CACHE_MAX_SIZE=1000000

# Vector Search Settings
TMWS_VECTOR_DIMENSION=384
TMWS_VECTOR_INDEX_TYPE=ivfflat
TMWS_VECTOR_INDEX_LISTS=100

# Background Tasks
TMWS_CELERY_BROKER_URL=redis://celery-user:SECURE_CELERY_PASSWORD@redis-celery.internal:6379/1
TMWS_CELERY_RESULT_BACKEND=redis://celery-user:SECURE_CELERY_PASSWORD@redis-celery.internal:6379/2
TMWS_CELERY_WORKER_CONCURRENCY=4

# ================================
# COMPLIANCE & REGULATIONS
# ================================
# GDPR Compliance
TMWS_GDPR_ENABLED=true
TMWS_DATA_RETENTION_DAYS=2555
TMWS_RIGHT_TO_DELETION=true
TMWS_DATA_PORTABILITY=true

# SOC2 Compliance
TMWS_SOC2_COMPLIANCE=true
TMWS_ACCESS_CONTROL_ENABLED=true
TMWS_CHANGE_MANAGEMENT_ENABLED=true

# Industry-specific settings
TMWS_HIPAA_COMPLIANCE=false
TMWS_PCI_COMPLIANCE=false

# ================================
# ALERT CONFIGURATION
# ================================
TMWS_ALERTS_ENABLED=true
TMWS_ALERT_EMAIL=security@your-domain.com
TMWS_ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Critical Alert Thresholds
TMWS_ALERT_FAILED_AUTH_COUNT=10
TMWS_ALERT_ERROR_RATE_THRESHOLD=0.05
TMWS_ALERT_RESPONSE_TIME_THRESHOLD=1000
TMWS_ALERT_MEMORY_USAGE_THRESHOLD=0.85

# ================================
# FEATURE FLAGS
# ================================
TMWS_FEATURE_MCP_ENABLED=true
TMWS_FEATURE_REST_API_ENABLED=true
TMWS_FEATURE_WEBSOCKETS_ENABLED=false
TMWS_FEATURE_GRAPHQL_ENABLED=false

# ================================
# DEVELOPMENT & DEBUG (PRODUCTION=FALSE)
# ================================
TMWS_PROFILING_ENABLED=false
TMWS_SQL_ECHO=false
TMWS_ENABLE_DEBUGGER=false

# ================================
# CUSTOM APPLICATION SETTINGS
# ================================
TMWS_MAX_MEMORY_PER_REQUEST=512MB
TMWS_MAX_REQUEST_SIZE=50MB
TMWS_REQUEST_TIMEOUT=60
TMWS_WORKER_TIMEOUT=120

# Agent-specific settings
TMWS_DEFAULT_AGENT=hestia-auditor
TMWS_AGENT_NAMESPACE=production
TMWS_AGENT_CAPABILITIES=security,audit,monitoring